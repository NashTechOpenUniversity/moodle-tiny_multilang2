define("tiny_multilang2/commands",["exports","./options","./common","core/str","./ui"],(function(_exports,_options,_common,_str,_ui){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.getSetup=void 0;_exports.getSetup=async()=>{const[buttonText,tooltip]=await(0,_str.get_strings)(["multilang2:language","multilang2:desc"].map((key=>({key:key,component:_common.component}))));return editor=>{const languageList=(0,_options.getLanguageList)(editor);languageList.length<2||(editor.ui.registry.addSplitButton(_common.component,{icon:"language",tooltip:tooltip,fetch:function(callback){callback(languageList.map((lang=>({type:"choiceitem",value:lang.iso,text:lang.label}))))},onAction:()=>{(0,_ui.applyLanguage)(editor,null)},onItemAction:(_splitButtonApi,value)=>{(0,_ui.applyLanguage)(editor,value)}}),editor.ui.registry.addNestedMenuItem(_common.component,{icon:"language",text:buttonText,getSubmenuItems:()=>languageList.map((lang=>({type:"menuitem",text:lang.label,onAction:()=>{(0,_ui.applyLanguage)(editor,lang.iso)}})))}),editor.on("init",(()=>{(0,_ui.onInit)(editor)})),editor.on("BeforeGetContent",(format=>{(0,_ui.onBeforeGetContent)(editor,format)})),editor.on("PreProcess",(node=>{(0,_ui.onPreProcess)(editor,node)})))}}}));

//# sourceMappingURL=commands.min.js.map